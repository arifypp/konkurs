import{c as e,A as X,Q as $,J as ee,P as te,Z as oe,p as ne,M as Y,b as i,s as ae,K as D,r,o as I,g as z,w as t,h as R,R as re,O as se,N as T,f as c,n as h,S as le,e as j,t as v,z as ue,a as de}from"./app-f2391a99.js";import{_ as ie}from"./AuthenticatedLayout-a5f22848.js";import{M as ce,h as me}from"./moment-e6752219.js";import _e from"./Add-8c080f8a.js";import ke from"./Show-379f947e.js";import fe from"./Edit-ceb74198.js";import{_ as pe}from"./_plugin-vue_export-helper-c27b6911.js";import"./SaveOutlined-a868e20f.js";var ye={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M904 512h-56c-4.4 0-8 3.6-8 8v320H184V184h320c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V520c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M355.9 534.9L354 653.8c-.1 8.9 7.1 16.2 16 16.2h.4l118-2.9c2-.1 4-.9 5.4-2.3l415.9-415c3.1-3.1 3.1-8.2 0-11.3L785.4 114.3c-1.6-1.6-3.6-2.3-5.7-2.3s-4.1.8-5.7 2.3l-415.8 415a8.3 8.3 0 00-2.3 5.6zm63.5 23.6L779.7 199l45.2 45.1-360.5 359.7-45.7 1.1.7-46.4z"}}]},name:"form",theme:"outlined"};const ge=ye;function x(s){for(var n=1;n<arguments.length;n++){var u=arguments[n]!=null?Object(arguments[n]):{},o=Object.keys(u);typeof Object.getOwnPropertySymbols=="function"&&(o=o.concat(Object.getOwnPropertySymbols(u).filter(function(m){return Object.getOwnPropertyDescriptor(u,m).enumerable}))),o.forEach(function(m){he(s,m,u[m])})}return s}function he(s,n,u){return n in s?Object.defineProperty(s,n,{value:u,enumerable:!0,configurable:!0,writable:!0}):s[n]=u,s}var L=function(n,u){var o=x({},n,u.attrs);return e(X,x({},o,{icon:ge}),null)};L.displayName="FormOutlined";L.inheritAttrs=!1;const ve=L,be={components:{AuthenticatedLayout:ie,MailOutlined:ce,CalendarOutlined:$,FormOutlined:ve,DeleteOutlined:ee,PlusOutlined:te,Head:oe,Link:ne,Add:_e,Show:ke,Edit:fe,Modal:Y},setup(){const s=i(!1),n=i(!1),u=i(null),o=i(!1),m=i(null),O=i(null),w=ae({from_date:null,to_date:null,category:null}),C=i("inline"),S=i("YYYY-MM-DD"),A=i([{title:"Company Name",dataIndex:"konkurs_name",key:"konkurs_name",slots:{customRender:"konkurs_name"}},{title:"Ad. Name",dataIndex:"konkurs_advocate",key:"konkurs_advocate",slots:{customRender:"konkurs_advocate"}},{title:"Ad. Email",dataIndex:"konkurs_advocate_email",key:"konkurs_advocate_email",slots:{customRender:"konkurs_advocate_email"}},{title:"Org Number",dataIndex:"konkurs_phone",key:"konkurs_phone",slots:{customRender:"konkurs_phone"}},{title:"Location",dataIndex:"konkurs_category_id",key:"konkurs_category_id",slots:{customRender:"konkurs_category_id"}},{title:"Date",dataIndex:"created_at",key:"created_at",slots:{customRender:"created_at"}},{title:"Action",dataIndex:"action",key:"action",slots:{customRender:"action"}}]),y=i(D().props.konkursData),b=i(D().props.konkursCategories),k=l=>{const d=b.value.find(p=>p.id==l);return d?d.name:""},f=i(!1),g=(l,d,p)=>{console.log(l),console.log(d),console.log(p)},M=l=>{console.log("Success:",l)},_=l=>{n.value=!0,O.value=l,re.get(route("user.konkurs.show",{id:l})).then(d=>{console.log(d.data),u.value=d.data}).catch(d=>{console.log(d)})},E=i(null);return{AddKonkursVisible:s,ShowKonkursVisible:n,form:w,formLayout:C,dateFormat:S,columns:A,data:y,loading:f,handleTableChange:g,onFinish:M,moment:me,getCategoryName:k,categories:b,ShowKonkur:_,konkurs:u,ShowKonkursId:O,EditKonkurs:l=>{o.value=!0,m.value=l,E.name="test"},EditKonkursVisible:o,EditKonkursId:m,deleteKonkurs:l=>{const d=route("user.konkurs.destroy",{id:l});Y.confirm({title:"Are you sure delete this Konkurs Category?",okText:"Yes",okType:"danger",cancelText:"No",onOk:()=>{se.delete(d,{preserveScroll:!0,onSuccess:p=>{p.value=D().props.konkursData,T.success("Konkurs Deleted Successfully")},onError:()=>{T.error("Something Went Wrong")}})}})}}}},Ke=["href","onClick"];function Oe(s,n,u,o,m,O){const w=r("Head"),C=r("Add"),S=r("a-breadcrumb-item"),A=r("PlusOutlined"),y=r("a-button"),b=r("MailOutlined"),k=r("Link"),f=r("a-menu-item"),g=r("CalendarOutlined"),M=r("a-menu"),_=r("a-col"),E=r("a-card-meta"),F=r("a-divider"),V=r("a-date-picker"),l=r("a-form-item"),d=r("a-select-option"),p=r("a-select"),P=r("a-row"),U=r("a-form"),q=r("form-outlined"),N=r("a-tooltip"),B=r("delete-outlined"),H=r("a-space"),W=r("a-table"),J=r("Show"),Q=r("Edit"),Z=r("a-card"),G=r("AuthenticatedLayout");return I(),z(R,null,[e(w,{title:"Manage Category"}),e(G,null,{header:t(()=>[e(S,null,{default:t(()=>[c("Manage Konkurs")]),_:1}),e(y,{type:"primary",style:{float:"right"},onClick:n[1]||(n[1]=a=>o.AddKonkursVisible=!0)},{icon:t(()=>[e(A)]),default:t(()=>[c(" Add Konkurs ")]),_:1})]),default:t(()=>[e(C,{visible:o.AddKonkursVisible,onClose:n[0]||(n[0]=a=>o.AddKonkursVisible=!1)},null,8,["visible"]),e(P,{type:"flex",gutter:"16"},{default:t(()=>[e(_,{span:5,order:1},{default:t(()=>[e(M,{openKeys:s.openKeys,"onUpdate:openKeys":n[2]||(n[2]=a=>s.openKeys=a),selectedKeys:s.selectedKeys,"onUpdate:selectedKeys":n[3]||(n[3]=a=>s.selectedKeys=a),mode:"vertical",style:{width:"100%",height:"100vh"}},{default:t(()=>[e(f,{key:"1",class:h({"ant-menu-item-selected":s.route().current("user.konkurs.index")})},{icon:t(()=>[e(b)]),default:t(()=>[e(k,{href:s.route("user.konkurs.index")},{default:t(()=>[c(" All Konkurs ")]),_:1},8,["href"])]),_:1},8,["class"]),e(f,{key:"2",class:h({"ant-menu-item-selected":s.route().current("user.konkurs.today")})},{icon:t(()=>[e(g)]),default:t(()=>[e(k,{href:s.route("user.konkurs.today")},{default:t(()=>[c(" Today Konkurs ")]),_:1},8,["href"])]),_:1},8,["class"]),e(f,{key:"3",class:h({"ant-menu-item-selected":s.route().current("user.konkurs.yesterday")})},{icon:t(()=>[e(g)]),default:t(()=>[e(k,{href:s.route("user.konkurs.yesterday")},{default:t(()=>[c(" Yesterday Konkurs ")]),_:1},8,["href"])]),_:1},8,["class"]),e(f,{key:"4",class:h({"ant-menu-item-selected":s.route().current("user.konkurs.monthly")})},{icon:t(()=>[e(g)]),default:t(()=>[e(k,{href:s.route("user.konkurs.monthly")},{default:t(()=>[c(" Monthly Konkurs ")]),_:1},8,["href"])]),_:1},8,["class"]),e(f,{key:"5",class:h({"ant-menu-item-selected":s.route().current("user.konkurs.yearly")})},{icon:t(()=>[e(g)]),default:t(()=>[e(k,{href:s.route("user.konkurs.yearly")},{default:t(()=>[c(" Yearly Konkurs ")]),_:1},8,["href"])]),_:1},8,["class"])]),_:1},8,["openKeys","selectedKeys"])]),_:1}),e(_,{span:19,order:2},{default:t(()=>[e(Z,{style:{width:"100%",height:"100%",padding:"0px"}},{default:t(()=>[e(E,{title:"Advanced search in announcements",description:"https://w2.brreg.no/kunngjoring/index.jsp"}),e(F),e(U,{model:o.form,layout:o.formLayout,onFinish:o.onFinish,span:24},{default:t(()=>[e(P,{gutter:16},{default:t(()=>[e(_,{span:6},{default:t(()=>[e(l,{label:"From Date",rules:[{required:!0,message:"Please input from date!"}]},{default:t(()=>[e(V,{value:o.form.from_date,"onUpdate:value":n[4]||(n[4]=a=>o.form.from_date=a),format:o.dateFormat,span:24},null,8,["value","format"])]),_:1})]),_:1}),e(_,{span:6},{default:t(()=>[e(l,{label:"To Date",name:"to_date",rules:[{required:!0,message:"Please input to date!"}]},{default:t(()=>[e(V,{value:o.form.to_date,"onUpdate:value":n[5]||(n[5]=a=>o.form.to_date=a),format:o.dateFormat,span:24},null,8,["value","format"])]),_:1})]),_:1}),e(_,{span:6},{default:t(()=>[e(l,{label:"Category",name:"category",rules:[{required:!0,message:"Please input category!"}],span:"24"},{default:t(()=>[e(p,{value:o.form.category,"onUpdate:value":n[6]||(n[6]=a=>o.form.category=a),placeholder:"Select a category",span:24},{default:t(()=>[(I(!0),z(R,null,le(o.categories,a=>(I(),de(d,{key:a.id,value:a.id},{default:t(()=>[c(v(a.name),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value"])]),_:1})]),_:1}),e(_,{span:6},{default:t(()=>[e(l,{label:" ",name:"submit"},{default:t(()=>[e(y,{type:"primary","html-type":"submit",span:24},{default:t(()=>[c("Filter Konkurs")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["model","layout","onFinish"]),e(F),e(W,{columns:o.columns,"data-source":o.data,pagination:s.pagination,loading:o.loading,showSizeChanger:"true",rowKey:a=>a.id},{konkurs_name:t(({text:a,record:K})=>[j("a",{href:"#"+K.id,onClick:ue(we=>o.ShowKonkur(K.id),["prevent"])},v(a)+" "+v(a.length>10?"...":""),9,Ke)]),created_at:t(({text:a})=>[c(v(o.moment(a).format("DD MMMM, YYYY")),1)]),konkurs_category_id:t(({text:a})=>[c(v(o.getCategoryName(a)),1)]),action:t(({record:a})=>[j("span",null,[e(H,{size:"middle"},{default:t(()=>[e(N,{title:"Edit"},{default:t(()=>[e(y,{type:"primary",size:"medium",shape:"square",onClick:K=>o.EditKonkurs(a.id)},{icon:t(()=>[e(q)]),_:2},1032,["onClick"])]),_:2},1024),e(N,{title:"Delete"},{default:t(()=>[e(y,{type:"danger",size:"medium",shape:"square",onClick:K=>o.deleteKonkurs(a.id)},{icon:t(()=>[e(B)]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)])]),_:1},8,["columns","data-source","pagination","loading","rowKey"]),e(J,{visible:o.ShowKonkursVisible,onClose:n[7]||(n[7]=a=>o.ShowKonkursVisible=!1),id:o.ShowKonkursId,konkurs:o.konkurs},null,8,["visible","id","konkurs"]),e(Q,{visible:o.EditKonkursVisible,id:o.EditKonkursId,onClose:n[8]||(n[8]=a=>o.EditKonkursVisible=!1)},null,8,["visible","id"])]),_:1})]),_:1})]),_:1})]),_:1})],64)}const Ie=pe(be,[["render",Oe]]);export{Ie as default};
