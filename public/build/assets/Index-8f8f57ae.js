import{c as e,A as Z,Q as G,J as X,P as $,Z as ee,p as te,M as V,b as i,s as oe,K as E,r as s,o as F,g as I,w as t,h as N,O as ne,N as Y,f as u,n as g,R as ae,t as v,e as re,a as se}from"./app-7167d098.js";import{_ as le}from"./AuthenticatedLayout-d1fc43bf.js";import{M as de,h as ue}from"./moment-1620f7c0.js";import ie from"./Add-2d56f505.js";import ce from"./Edit-d0ef06df.js";import{_ as me}from"./_plugin-vue_export-helper-c27b6911.js";import"./SaveOutlined-4333f22b.js";var _e={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M904 512h-56c-4.4 0-8 3.6-8 8v320H184V184h320c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V520c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M355.9 534.9L354 653.8c-.1 8.9 7.1 16.2 16 16.2h.4l118-2.9c2-.1 4-.9 5.4-2.3l415.9-415c3.1-3.1 3.1-8.2 0-11.3L785.4 114.3c-1.6-1.6-3.6-2.3-5.7-2.3s-4.1.8-5.7 2.3l-415.8 415a8.3 8.3 0 00-2.3 5.6zm63.5 23.6L779.7 199l45.2 45.1-360.5 359.7-45.7 1.1.7-46.4z"}}]},name:"form",theme:"outlined"};const ke=_e;function z(r){for(var n=1;n<arguments.length;n++){var d=arguments[n]!=null?Object(arguments[n]):{},o=Object.keys(d);typeof Object.getOwnPropertySymbols=="function"&&(o=o.concat(Object.getOwnPropertySymbols(d).filter(function(k){return Object.getOwnPropertyDescriptor(d,k).enumerable}))),o.forEach(function(k){fe(r,k,d[k])})}return r}function fe(r,n,d){return n in r?Object.defineProperty(r,n,{value:d,enumerable:!0,configurable:!0,writable:!0}):r[n]=d,r}var M=function(n,d){var o=z({},n,d.attrs);return e(Z,z({},o,{icon:ke}),null)};M.displayName="FormOutlined";M.inheritAttrs=!1;const pe=M,ye={components:{AuthenticatedLayout:le,MailOutlined:de,CalendarOutlined:G,FormOutlined:pe,DeleteOutlined:X,PlusOutlined:$,Head:ee,Link:te,Add:ie,Edit:ce,Modal:V},setup(){const r=i(!1),n=i(!1),d=i(null),o=oe({from_date:null,to_date:null,category:null}),k=i("inline"),w=i("YYYY-MM-DD"),K=i([{title:"Company Name",dataIndex:"konkurs_name",key:"konkurs_name",slots:{customRender:"konkurs_name"}},{title:"Ad. Name",dataIndex:"konkurs_advocate",key:"konkurs_advocate",slots:{customRender:"konkurs_advocate"}},{title:"Ad. Email",dataIndex:"konkurs_advocate_email",key:"konkurs_advocate_email",slots:{customRender:"konkurs_advocate_email"}},{title:"Org Number",dataIndex:"konkurs_phone",key:"konkurs_phone",slots:{customRender:"konkurs_phone"}},{title:"Location",dataIndex:"konkurs_category_id",key:"konkurs_category_id",slots:{customRender:"konkurs_category_id"}},{title:"Date",dataIndex:"created_at",key:"created_at",slots:{customRender:"created_at"}},{title:"Action",dataIndex:"action",key:"action",slots:{customRender:"action"}}]),O=i(E().props.konkursData),h=i(E().props.konkursCategories),C=l=>{const m=h.value.find(_=>_.id==l);return m?m.name:""},p=i(!1),A=(l,m,_)=>{console.log(l),console.log(m),console.log(_)},c=l=>{console.log("Success:",l)},f=i(null);return{AddKonkursVisible:r,form:o,formLayout:k,dateFormat:w,columns:K,data:O,loading:p,handleTableChange:A,onFinish:c,moment:ue,getCategoryName:C,categories:h,EditKonkurs:l=>{n.value=!0,d.value=l,f.name="test"},EditKonkursVisible:n,EditKonkursId:d,deleteKonkurs:l=>{const m=route("user.konkurs.destroy",{id:l});V.confirm({title:"Are you sure delete this Konkurs Category?",okText:"Yes",okType:"danger",cancelText:"No",onOk:()=>{ne.delete(m,{preserveScroll:!0,onSuccess:_=>{_.value=E().props.konkursData,Y.success("Konkurs Deleted Successfully")},onError:()=>{Y.error("Something Went Wrong")}})}})}}}};function ge(r,n,d,o,k,w){const K=s("Head"),O=s("Add"),h=s("a-breadcrumb-item"),C=s("PlusOutlined"),p=s("a-button"),A=s("MailOutlined"),c=s("Link"),f=s("a-menu-item"),y=s("CalendarOutlined"),D=s("a-menu"),l=s("a-col"),m=s("a-card-meta"),_=s("a-divider"),L=s("a-date-picker"),b=s("a-form-item"),R=s("a-select-option"),T=s("a-select"),P=s("a-row"),j=s("a-form"),U=s("form-outlined"),S=s("a-tooltip"),q=s("delete-outlined"),B=s("a-space"),H=s("a-table"),x=s("Edit"),W=s("a-card"),J=s("AuthenticatedLayout");return F(),I(N,null,[e(K,{title:"Manage Category"}),e(J,null,{header:t(()=>[e(h,null,{default:t(()=>[u("Manage Konkurs")]),_:1}),e(p,{type:"primary",style:{float:"right"},onClick:n[1]||(n[1]=a=>o.AddKonkursVisible=!0)},{icon:t(()=>[e(C)]),default:t(()=>[u(" Add Konkurs ")]),_:1})]),default:t(()=>[e(O,{visible:o.AddKonkursVisible,onClose:n[0]||(n[0]=a=>o.AddKonkursVisible=!1)},null,8,["visible"]),e(P,{type:"flex",gutter:"16"},{default:t(()=>[e(l,{span:5,order:1},{default:t(()=>[e(D,{openKeys:r.openKeys,"onUpdate:openKeys":n[2]||(n[2]=a=>r.openKeys=a),selectedKeys:r.selectedKeys,"onUpdate:selectedKeys":n[3]||(n[3]=a=>r.selectedKeys=a),mode:"vertical",style:{width:"100%",height:"100vh"}},{default:t(()=>[e(f,{key:"1",class:g({"ant-menu-item-selected":r.route().current("user.konkurs.index")})},{icon:t(()=>[e(A)]),default:t(()=>[e(c,{href:r.route("user.konkurs.index")},{default:t(()=>[u(" All Konkurs ")]),_:1},8,["href"])]),_:1},8,["class"]),e(f,{key:"2",class:g({"ant-menu-item-selected":r.route().current("user.konkurs.today")})},{icon:t(()=>[e(y)]),default:t(()=>[e(c,{href:r.route("user.konkurs.today")},{default:t(()=>[u(" Today Konkurs ")]),_:1},8,["href"])]),_:1},8,["class"]),e(f,{key:"3",class:g({"ant-menu-item-selected":r.route().current("user.konkurs.yesterday")})},{icon:t(()=>[e(y)]),default:t(()=>[e(c,{href:r.route("user.konkurs.yesterday")},{default:t(()=>[u(" Yesterday Konkurs ")]),_:1},8,["href"])]),_:1},8,["class"]),e(f,{key:"4",class:g({"ant-menu-item-selected":r.route().current("user.konkurs.monthly")})},{icon:t(()=>[e(y)]),default:t(()=>[e(c,{href:r.route("user.konkurs.monthly")},{default:t(()=>[u(" Monthly Konkurs ")]),_:1},8,["href"])]),_:1},8,["class"]),e(f,{key:"5",class:g({"ant-menu-item-selected":r.route().current("user.konkurs.yearly")})},{icon:t(()=>[e(y)]),default:t(()=>[e(c,{href:r.route("user.konkurs.yearly")},{default:t(()=>[u(" Yearly Konkurs ")]),_:1},8,["href"])]),_:1},8,["class"])]),_:1},8,["openKeys","selectedKeys"])]),_:1}),e(l,{span:19,order:2},{default:t(()=>[e(W,{style:{width:"100%",height:"100%",padding:"0px"}},{default:t(()=>[e(m,{title:"Advanced search in announcements",description:"https://w2.brreg.no/kunngjoring/index.jsp"}),e(_),e(j,{model:o.form,layout:o.formLayout,onFinish:o.onFinish,span:24},{default:t(()=>[e(P,{gutter:16},{default:t(()=>[e(l,{span:6},{default:t(()=>[e(b,{label:"From Date",rules:[{required:!0,message:"Please input from date!"}]},{default:t(()=>[e(L,{value:o.form.from_date,"onUpdate:value":n[4]||(n[4]=a=>o.form.from_date=a),format:o.dateFormat,span:24},null,8,["value","format"])]),_:1})]),_:1}),e(l,{span:6},{default:t(()=>[e(b,{label:"To Date",name:"to_date",rules:[{required:!0,message:"Please input to date!"}]},{default:t(()=>[e(L,{value:o.form.to_date,"onUpdate:value":n[5]||(n[5]=a=>o.form.to_date=a),format:o.dateFormat,span:24},null,8,["value","format"])]),_:1})]),_:1}),e(l,{span:6},{default:t(()=>[e(b,{label:"Category",name:"category",rules:[{required:!0,message:"Please input category!"}],span:"24"},{default:t(()=>[e(T,{value:o.form.category,"onUpdate:value":n[6]||(n[6]=a=>o.form.category=a),placeholder:"Select a category",span:24},{default:t(()=>[(F(!0),I(N,null,ae(o.categories,a=>(F(),se(R,{key:a.id,value:a.id},{default:t(()=>[u(v(a.name),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value"])]),_:1})]),_:1}),e(l,{span:6},{default:t(()=>[e(b,{label:" ",name:"submit"},{default:t(()=>[e(p,{type:"primary","html-type":"submit",span:24},{default:t(()=>[u("Filter Konkurs")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["model","layout","onFinish"]),e(_),e(H,{columns:o.columns,"data-source":o.data,pagination:r.pagination,loading:o.loading,showSizeChanger:"true",rowKey:a=>a.id},{konkurs_name:t(({text:a})=>[e(c,{href:r.route("user.konkurs.show",a)},{default:t(()=>[u(v(a)+" "+v(a.length>10?"...":""),1)]),_:2},1032,["href"])]),created_at:t(({text:a})=>[u(v(o.moment(a).format("DD MMMM, YYYY")),1)]),konkurs_category_id:t(({text:a})=>[u(v(o.getCategoryName(a)),1)]),action:t(({record:a})=>[re("span",null,[e(B,{size:"middle"},{default:t(()=>[e(S,{title:"Edit"},{default:t(()=>[e(p,{type:"primary",size:"medium",shape:"square",onClick:Q=>o.EditKonkurs(a.id)},{icon:t(()=>[e(U)]),_:2},1032,["onClick"])]),_:2},1024),e(S,{title:"Delete"},{default:t(()=>[e(p,{type:"danger",size:"medium",shape:"square",onClick:Q=>o.deleteKonkurs(a.id)},{icon:t(()=>[e(q)]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)])]),_:1},8,["columns","data-source","pagination","loading","rowKey"]),e(x,{visible:o.EditKonkursVisible,id:o.EditKonkursId,onClose:n[7]||(n[7]=a=>o.EditKonkursVisible=!1)},null,8,["visible","id"])]),_:1})]),_:1})]),_:1})]),_:1})],64)}const Ee=me(ye,[["render",ge]]);export{Ee as default};
