import{I as N,S as O,s as E,b as f,K as I,r as s,o as y,a as S,w as o,Q as L,J as h,c as e,f as g,g as j,N as z,h as V,t as B}from"./app-25a6ff75.js";import{_ as T}from"./_plugin-vue_export-helper-c27b6911.js";import{S as D}from"./SaveOutlined-4997a77f.js";const M={components:{CloseOutlined:N,SearchOutlined:O,SaveOutlined:D},setup(){const l=E({name:"",category:"",website:"",phone:"",industry_position:"",state:"",post_code:"",address:"",advocateemail:"",advocaname:""}),n=f({name:[{required:!0,message:"Please input Konkurs Category Name"}],category:[{required:!0,message:"Please select Konkurs Category"}],phone:[{required:!0,pattern:/^[0-9]*$/,onInput:u=>{u.target.value=u.target.value.replace(/[^0-9]/g,"")},message:"Please input Konkurs Phone"}],industry_position:[{required:!0,message:"Please input Konkurs Industry / Position"}],state:[{required:!0,message:"Please input Konkurs State"}],post_code:[{required:!0,message:"Please input Konkurs Post Code"}],address:[{required:!0,message:"Please input Konkurs Address"}],advocateemail:[{required:!0,message:"Please input Konkurs Advocate Email"}],advocaname:[{required:!0,message:"Please input Konkurs Advocate Phone"}]}),C=f({required:"This field is required"}),a=f(!1),v=f(!1),_=f(!1),m=f("md"),r=f(!1),d=()=>{r.value=!1},p=(u,c)=>c.children.toLowerCase().indexOf(u.toLowerCase())>=0,k=f(I().props.konkursCategories);return{form:l,rules:n,validateMessages:C,loading:a,disabled:_,size:m,AddKonkursVisible:r,onClose:d,onSearch:()=>{v.value=!0;const u=l.phone;L.get("https://data.brreg.no/enhetsregisteret/api/enheter?organisasjonsnummer="+u).then(c=>{const i=c.data._embedded.enheter[0];l.name=i.navn,l.status="active",l.website=i.hjemmeside??"",l.phone=i.organisasjonsnummer,l.industry_position=i.naeringskode1.beskrivelse,l.state=i.forretningsadresse.kommune,l.post_code=i.forretningsadresse.postnummer,l.address=i.forretningsadresse.adresse[0],l.advocateemail=i.konkursboetAdvokat[0].epostadresse,l.advocaname=i.konkursboetAdvokat[0].telefonnummer,v.value=!1}).catch(c=>{console.log(c),v.value=!1})},SearchLoading:v,categories:k,CreateKonkurs:()=>{a.value=!0,_.value=!0,l.post(route("user.konkurs.store"),{preserveScroll:!0,onSuccess:()=>{a.value=!1,_.value=!1,r.value=!1,h.success("Konkurs Created Successfully")},onError:()=>{_.value=!1,a.value=!1;const u=l.errors;Object.keys(u).forEach(c=>{h.error(u[c])}),document.querySelectorAll(".ant-form-item-explain-error")}})},filterOption:p}}};function F(l,n,C,a,v,_){const m=s("a-input"),r=s("a-form-item"),d=s("a-col"),p=s("a-select-option"),k=s("a-select"),K=s("search-outlined"),b=s("a-button"),u=s("a-input-group"),c=s("a-textarea"),i=s("a-divider"),w=s("a-row"),A=s("a-form"),P=s("close-outlined"),q=s("save-outlined"),x=s("a-space"),U=s("a-drawer");return y(),S(U,{title:"Add Konkurs",size:a.size,visible:a.AddKonkursVisible,onClose:a.onClose,width:"50%","footer-style":{textAlign:"right"},maskClosable:!1},{footer:o(()=>[e(x,null,{default:o(()=>[e(b,{style:{"margin-right":"8px"},onClick:a.onClose},{icon:o(()=>[e(P)]),default:o(()=>[g(" Cancel ")]),_:1},8,["onClick"]),e(b,{type:"primary","html-type":"submit",loading:a.loading,disabled:a.disabled,onClick:a.CreateKonkurs},{icon:o(()=>[e(q)]),default:o(()=>[g(" Create Konkurs ")]),_:1},8,["loading","disabled","onClick"])]),_:1})]),default:o(()=>[e(A,{layout:"vertical","validate-messages":a.validateMessages,model:a.form,rules:a.rules},{default:o(()=>[e(w,{gutter:15},{default:o(()=>[e(d,{span:12},{default:o(()=>[e(r,{label:"Konkurs Name",name:"name"},{default:o(()=>[e(m,{value:a.form.name,"onUpdate:value":n[0]||(n[0]=t=>a.form.name=t)},null,8,["value"])]),_:1})]),_:1}),e(d,{span:12},{default:o(()=>[e(r,{label:"Konkurs type",name:"category"},{default:o(()=>[e(k,{value:a.form.category,"onUpdate:value":n[1]||(n[1]=t=>a.form.category=t),allowClear:"",placeholder:"Select Category",ShowSearch:""},{default:o(()=>[(y(!0),j(V,null,z(a.categories,t=>(y(),S(p,{key:t.id,value:t.id},{default:o(()=>[g(B(t.name),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value"])]),_:1})]),_:1}),e(d,{span:12},{default:o(()=>[e(r,{label:"Konkurs Status",name:"status"},{default:o(()=>[e(k,{value:a.form.status,"onUpdate:value":n[2]||(n[2]=t=>a.form.status=t),allowClear:"",placeholder:"Select Status"},{default:o(()=>[e(p,{value:"active"},{default:o(()=>[g("Active")]),_:1}),e(p,{value:"inactive"},{default:o(()=>[g("Inactive")]),_:1})]),_:1},8,["value"])]),_:1})]),_:1}),e(d,{span:12},{default:o(()=>[e(r,{label:"Konkurs website",name:"website"},{default:o(()=>[e(m,{value:a.form.website,"onUpdate:value":n[3]||(n[3]=t=>a.form.website=t)},null,8,["value"])]),_:1})]),_:1}),e(d,{span:12},{default:o(()=>[e(r,{label:"Konkurs phone",name:"phone"},{default:o(()=>[e(u,{compact:""},{default:o(()=>[e(m,{style:{width:"70%"},value:a.form.phone,"onUpdate:value":n[4]||(n[4]=t=>a.form.phone=t)},null,8,["value"]),e(b,{type:"primary",style:{width:"30%"},onClick:a.onSearch,loading:a.SearchLoading},{icon:o(()=>[e(K)]),_:1},8,["onClick","loading"])]),_:1})]),_:1})]),_:1}),e(d,{span:12},{default:o(()=>[e(r,{label:"Industry / Position",name:"industry_position"},{default:o(()=>[e(m,{value:a.form.industry_position,"onUpdate:value":n[5]||(n[5]=t=>a.form.industry_position=t)},null,8,["value"])]),_:1})]),_:1}),e(d,{span:12},{default:o(()=>[e(r,{label:"State",name:"state"},{default:o(()=>[e(m,{value:a.form.state,"onUpdate:value":n[6]||(n[6]=t=>a.form.state=t)},null,8,["value"])]),_:1})]),_:1}),e(d,{span:12},{default:o(()=>[e(r,{label:"Post code",name:"post_code"},{default:o(()=>[e(m,{value:a.form.post_code,"onUpdate:value":n[7]||(n[7]=t=>a.form.post_code=t)},null,8,["value"])]),_:1})]),_:1}),e(d,{span:24},{default:o(()=>[e(r,{label:"Konkurs Address",name:"address"},{default:o(()=>[e(c,{value:a.form.address,"onUpdate:value":n[8]||(n[8]=t=>a.form.address=t)},null,8,["value"])]),_:1})]),_:1}),e(i),e(d,{span:12},{default:o(()=>[e(r,{label:"Konkurs Advocate Name",name:"advocaname"},{default:o(()=>[e(m,{value:a.form.advocaname,"onUpdate:value":n[9]||(n[9]=t=>a.form.advocaname=t)},null,8,["value"])]),_:1})]),_:1}),e(d,{span:12},{default:o(()=>[e(r,{label:"Konkurs Advocate Email",name:"advocateemail"},{default:o(()=>[e(m,{value:a.form.advocateemail,"onUpdate:value":n[10]||(n[10]=t=>a.form.advocateemail=t)},null,8,["value"])]),_:1})]),_:1})]),_:1})]),_:1},8,["validate-messages","model","rules"])]),_:1},8,["size","visible","onClose"])}const H=T(M,[["render",F]]);export{H as default};
