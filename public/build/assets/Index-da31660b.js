import{c as t,A as U,Q as W,J,P as Q,Z,p as G,M as I,b as i,s as X,K as F,r,o as M,g as P,w as o,h as L,R as $,O as ee,N,f as p,S as te,e as Y,t as g,z as oe,a as ne}from"./app-58ea7a43.js";import{_ as ae}from"./AuthenticatedLayout-bcf99958.js";import{M as re,h as se}from"./moment-21f47b9e.js";import le from"./Add-06058288.js";import ie from"./Show-6fae17d6.js";import de from"./Edit-e8b22e3a.js";import{_ as ue}from"./_plugin-vue_export-helper-c27b6911.js";import"./SaveOutlined-d9ae29db.js";var ce={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M904 512h-56c-4.4 0-8 3.6-8 8v320H184V184h320c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V520c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M355.9 534.9L354 653.8c-.1 8.9 7.1 16.2 16 16.2h.4l118-2.9c2-.1 4-.9 5.4-2.3l415.9-415c3.1-3.1 3.1-8.2 0-11.3L785.4 114.3c-1.6-1.6-3.6-2.3-5.7-2.3s-4.1.8-5.7 2.3l-415.8 415a8.3 8.3 0 00-2.3 5.6zm63.5 23.6L779.7 199l45.2 45.1-360.5 359.7-45.7 1.1.7-46.4z"}}]},name:"form",theme:"outlined"};const me=ce;function z(d){for(var n=1;n<arguments.length;n++){var s=arguments[n]!=null?Object(arguments[n]):{},e=Object.keys(s);typeof Object.getOwnPropertySymbols=="function"&&(e=e.concat(Object.getOwnPropertySymbols(s).filter(function(c){return Object.getOwnPropertyDescriptor(s,c).enumerable}))),e.forEach(function(c){_e(d,c,s[c])})}return d}function _e(d,n,s){return n in d?Object.defineProperty(d,n,{value:s,enumerable:!0,configurable:!0,writable:!0}):d[n]=s,d}var V=function(n,s){var e=z({},n,s.attrs);return t(U,z({},e,{icon:me}),null)};V.displayName="FormOutlined";V.inheritAttrs=!1;const ke=V,fe={components:{AuthenticatedLayout:ae,MailOutlined:re,CalendarOutlined:W,FormOutlined:ke,DeleteOutlined:J,PlusOutlined:Q,Head:Z,Link:G,Add:le,Show:ie,Edit:de,Modal:I},setup(){const d=i(!1),n=i(!1),s=i(null),e=i(!1),c=i(null),K=i(null),O=X({from_date:null,to_date:null,category:null}),w=i("inline"),C=i("YYYY-MM-DD"),S=i([{title:"Company Name",dataIndex:"konkurs_name",key:"konkurs_name",slots:{customRender:"konkurs_name"}},{title:"Ad. Name",dataIndex:"konkurs_advocate",key:"konkurs_advocate",slots:{customRender:"konkurs_advocate"}},{title:"Ad. Email",dataIndex:"konkurs_advocate_email",key:"konkurs_advocate_email",slots:{customRender:"konkurs_advocate_email"}},{title:"Org Number",dataIndex:"konkurs_phone",key:"konkurs_phone",slots:{customRender:"konkurs_phone"}},{title:"Location",dataIndex:"konkurs_category_id",key:"konkurs_category_id",slots:{customRender:"konkurs_category_id"}},{title:"Date",dataIndex:"created_at",key:"created_at",slots:{customRender:"created_at"}},{title:"Action",dataIndex:"action",key:"action",slots:{customRender:"action"}}]),_=i(F().props.konkursData),v=i(F().props.konkursCategories),y=u=>{const l=v.value.find(f=>f.id==u);return l?l.name:""},h=i(!1),k=(u,l,f)=>{},m=u=>{},A=u=>{n.value=!0,K.value=u,$.get(route("user.konkurs.show",{id:u})).then(l=>{console.log(l.data),s.value=l.data}).catch(l=>{console.log(l)})},x=i(null);return{AddKonkursVisible:d,ShowKonkursVisible:n,form:O,formLayout:w,dateFormat:C,columns:S,data:_,loading:h,handleTableChange:k,onFinish:m,moment:se,getCategoryName:y,categories:v,ShowKonkur:A,konkurs:s,ShowKonkursId:K,EditKonkurs:u=>{e.value=!0,c.value=u,x.name="test"},EditKonkursVisible:e,EditKonkursId:c,deleteKonkurs:u=>{const l=route("user.konkurs.destroy",{id:u});I.confirm({title:"Are you sure delete this Konkurs Category?",okText:"Yes",okType:"danger",cancelText:"No",onOk:()=>{ee.delete(l,{preserveScroll:!0,onSuccess:f=>{f.value=F().props.konkursData,N.success("Konkurs Deleted Successfully")},onError:()=>{N.error("Something Went Wrong")}})}})}}}},pe=["href","onClick"];function ge(d,n,s,e,c,K){const O=r("Head"),w=r("Add"),C=r("a-breadcrumb-item"),S=r("PlusOutlined"),_=r("a-button"),v=r("a-card-meta"),y=r("a-divider"),h=r("a-date-picker"),k=r("a-form-item"),m=r("a-col"),A=r("a-select-option"),x=r("a-select"),E=r("a-row"),D=r("a-form"),u=r("form-outlined"),l=r("a-tooltip"),f=r("delete-outlined"),R=r("a-space"),T=r("a-table"),j=r("Show"),q=r("Edit"),B=r("a-card"),H=r("AuthenticatedLayout");return M(),P(L,null,[t(O,{title:"Manage Category"}),t(H,null,{header:o(()=>[t(C,null,{default:o(()=>[p("Manage Konkurs")]),_:1}),t(_,{type:"primary",style:{float:"right"},onClick:n[1]||(n[1]=a=>e.AddKonkursVisible=!0)},{icon:o(()=>[t(S)]),default:o(()=>[p(" Add Konkurs ")]),_:1})]),default:o(()=>[t(w,{visible:e.AddKonkursVisible,onClose:n[0]||(n[0]=a=>e.AddKonkursVisible=!1)},null,8,["visible"]),t(E,{type:"flex",gutter:"16"},{default:o(()=>[t(m,{span:24,order:2},{default:o(()=>[t(B,{style:{width:"100%",height:"100%",padding:"0px"},loading:e.loading},{default:o(()=>[t(v,{title:"Advanced search in announcements",description:"https://w2.brreg.no/kunngjoring/index.jsp"}),t(y),t(D,{model:e.form,layout:e.formLayout,onFinish:e.onFinish,span:24},{default:o(()=>[t(E,{gutter:12},{default:o(()=>[t(m,{span:6},{default:o(()=>[t(k,{label:"From Date",rules:[{required:!0,message:"Please input from date!"}]},{default:o(()=>[t(h,{value:e.form.from_date,"onUpdate:value":n[2]||(n[2]=a=>e.form.from_date=a),format:e.dateFormat,span:24},null,8,["value","format"])]),_:1})]),_:1}),t(m,{span:6},{default:o(()=>[t(k,{label:"To Date",name:"to_date",rules:[{required:!0,message:"Please input to date!"}]},{default:o(()=>[t(h,{value:e.form.to_date,"onUpdate:value":n[3]||(n[3]=a=>e.form.to_date=a),format:e.dateFormat,span:24},null,8,["value","format"])]),_:1})]),_:1}),t(m,{span:6},{default:o(()=>[t(k,{label:"Category",name:"category",rules:[{required:!0,message:"Please input category!"}],span:"24"},{default:o(()=>[t(x,{value:e.form.category,"onUpdate:value":n[4]||(n[4]=a=>e.form.category=a),placeholder:"Select a category",span:24},{default:o(()=>[(M(!0),P(L,null,te(e.categories,a=>(M(),ne(A,{key:a.id,value:a.id},{default:o(()=>[p(g(a.name),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value"])]),_:1})]),_:1}),t(m,{span:6},{default:o(()=>[t(k,{label:" ",name:"submit"},{default:o(()=>[t(_,{type:"primary","html-type":"submit",span:24},{default:o(()=>[p("Filter Konkurs")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["model","layout","onFinish"]),t(y),t(T,{columns:e.columns,"data-source":e.data,pagination:d.pagination,loading:e.loading,showSizeChanger:"true",rowKey:a=>a.id},{konkurs_name:o(({text:a,record:b})=>[Y("a",{href:"#"+b.id,onClick:oe(ve=>e.ShowKonkur(b.id),["prevent"])},g(a)+" "+g(a.length>10?"...":""),9,pe)]),created_at:o(({text:a})=>[p(g(e.moment(a).format("DD MMMM, YYYY")),1)]),konkurs_category_id:o(({text:a})=>[p(g(e.getCategoryName(a)),1)]),action:o(({record:a})=>[Y("span",null,[t(R,{size:"middle"},{default:o(()=>[t(l,{title:"Edit"},{default:o(()=>[t(_,{type:"primary",size:"medium",shape:"square",onClick:b=>e.EditKonkurs(a.id)},{icon:o(()=>[t(u)]),_:2},1032,["onClick"])]),_:2},1024),t(l,{title:"Delete"},{default:o(()=>[t(_,{type:"danger",size:"medium",shape:"square",onClick:b=>e.deleteKonkurs(a.id)},{icon:o(()=>[t(f)]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)])]),_:1},8,["columns","data-source","pagination","loading","rowKey"]),t(j,{visible:e.ShowKonkursVisible,onClose:n[5]||(n[5]=a=>e.ShowKonkursVisible=!1),id:e.ShowKonkursId,konkurs:e.konkurs},null,8,["visible","id","konkurs"]),t(q,{visible:e.EditKonkursVisible,id:e.EditKonkursId,onClose:n[6]||(n[6]=a=>e.EditKonkursVisible=!1)},null,8,["visible","id"])]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1})],64)}const Ae=ue(fe,[["render",ge]]);export{Ae as default};
